const fs = require('fs');
const path = require('path');

// Read the English file as the base
const englishPath = path.join(__dirname, 'src/i18n/locales/en.json');
const englishData = JSON.parse(fs.readFileSync(englishPath, 'utf8'));

// Comprehensive translation mappings for each language
const translations = {
  fr: {
    // Common section
    "Loading...": "Chargement...",
    "Error": "Erreur",
    "Success": "Succès",
    "Cancel": "Annuler",
    "Save": "Enregistrer",
    "Delete": "Supprimer",
    "Edit": "Modifier",
    "Create": "Créer",
    "Update": "Mettre à jour",
    "Submit": "Soumettre",
    "Close": "Fermer",
    "Back": "Retour",
    "Next": "Suivant",
    "Previous": "Précédent",
    "Finish": "Terminer",
    "Continue": "Continuer",
    "Confirm": "Confirmer",
    "Yes": "Oui",
    "No": "Non",
    "OK": "OK",
    "Search": "Rechercher",
    "Filter": "Filtrer",
    "Sort": "Trier",
    "View": "Voir",
    "Download": "Télécharger",
    "Upload": "Téléverser",
    "Share": "Partager",
    "Copy": "Copier",
    "Paste": "Coller",
    "Cut": "Couper",
    "Undo": "Annuler",
    "Redo": "Refaire",
    "Refresh": "Actualiser",
    "Reload": "Recharger",
    "Retry": "Réessayer",
    "Home": "Accueil",
    "Dashboard": "Tableau de bord",
    "Settings": "Paramètres",
    "Profile": "Profil",
    "Help": "Aide",
    "About": "À propos",
    "Contact": "Contact",
    "Privacy": "Confidentialité",
    "Terms": "Conditions",
    "Logout": "Se déconnecter",
    "Login": "Se connecter",
    "Sign Up": "S'inscrire",
    "Sign In": "Se connecter",
    "Register": "S'inscrire",
    "Username": "Nom d'utilisateur",
    "Email": "E-mail",
    "Password": "Mot de passe",
    "Name": "Nom",
    "Title": "Titre",
    "Description": "Description",
    "Date": "Date",
    "Time": "Heure",
    "Status": "Statut",
    "Type": "Type",
    "Category": "Catégorie",
    "Tag": "Étiquette",
    "Tags": "Étiquettes",
    "Score": "Score",
    "Points": "Points",
    "Level": "Niveau",
    "Progress": "Progrès",
    "Completed": "Terminé",
    "Pending": "En attente",
    "Active": "Actif",
    "Inactive": "Inactif",
    "Enabled": "Activé",
    "Disabled": "Désactivé",
    "Public": "Public",
    "Private": "Privé",
    "Draft": "Brouillon",
    "Published": "Publié",
    "Archived": "Archivé",
    "Required": "Requis",
    "Optional": "Optionnel",
    "All": "Tous",
    "None": "Aucun",
    "Other": "Autre",
    "Unknown": "Inconnu",
    "Total": "Total",
    "Count": "Nombre",
    "Number": "Numéro",
    "Amount": "Montant",
    "Price": "Prix",
    "Free": "Gratuit",
    "Premium": "Premium",
    "Basic": "Basique",
    "Advanced": "Avancé",
    "Expert": "Expert",
    "Beginner": "Débutant",
    "Intermediate": "Intermédiaire",
    "Language": "Langue",
    "Languages": "Langues",
    "User": "Utilisateur",
    "organization": "organisation",
    "Welcome back": "Bon retour",
    "You're currently in the": "Vous êtes actuellement dans l'",
    "You are not currently in any organization": "Vous n'êtes actuellement dans aucune organisation",
    "Explore our collection of assignments": "Explorez notre collection de devoirs",
    "Create and edit your assignments": "Créez et modifiez vos devoirs",
    "Manage your organization settings": "Gérez les paramètres de votre organisation",
    "View and download your achievement certificates": "Consultez et téléchargez vos certificats de réussite",
    "Your Assignments": "Vos Devoirs",
    "Database connection error. Please try refreshing the page.": "Erreur de connexion à la base de données. Veuillez actualiser la page.",
    "Database Connection Error": "Erreur de Connexion à la Base de Données",
    "Refresh Page": "Actualiser la Page",
    "Initializing database connection...": "Initialisation de la connexion à la base de données...",
    "This may take a moment": "Cela peut prendre un moment",
    "Checking authentication status...": "Vérification du statut d'authentification...",
    "Account": "Compte",
    "Try Again": "Réessayer",
    "Database Initializing": "Initialisation de la Base de Données",
    "The database connection is being established. Please wait a moment.": "La connexion à la base de données est en cours d'établissement. Veuillez patienter un moment.",
    "Connecting to database...": "Connexion à la base de données...",
    "Engaging educational platform for interactive learning experiences.": "Plateforme éducative engageante pour des expériences d'apprentissage interactives.",
    "Quick Links": "Liens Rapides",
    "Support": "Support",
    "Social Media": "Réseaux Sociaux",
    "Follow Us": "Suivez-nous",
    "Transform Education Through Interactive Learning": "Transformez l'Éducation par l'Apprentissage Interactif",
    "Empower educators and engage students with our AI-powered platform. Create immersive learning experiences that drive better outcomes and foster lasting knowledge retention.": "Donnez du pouvoir aux éducateurs et engagez les étudiants avec notre plateforme alimentée par l'IA. Créez des expériences d'apprentissage immersives qui génèrent de meilleurs résultats et favorisent une rétention durable des connaissances.",
    "Start Free Trial": "Commencer l'Essai Gratuit",
    "View Demo": "Voir la Démo",
    "Schedule Demo": "Planifier une Démo",
    "Active Students": "Étudiants Actifs",
    "Educational Institutions": "Institutions Éducatives",
    "Completed Assignments": "Devoirs Terminés",
    "Satisfaction Rate": "Taux de Satisfaction",
    "Educational Assignments": "Devoirs Éducatifs",
    "Smart Matching Exercises": "Exercices de Correspondance Intelligents",
    "Digital Certificates": "Certificats Numériques",
    "Enterprise Management": "Gestion d'Entreprise",
    "Advanced Audio Tools": "Outils Audio Avancés",
    "Analytics Dashboard": "Tableau de Bord Analytique",
    "Enterprise-Grade Features": "Fonctionnalités de Niveau Entreprise",
    "Powerful tools designed to transform your educational institution": "Outils puissants conçus pour transformer votre institution éducative",
    "Start Teaching in Minutes": "Commencez à Enseigner en Minutes",
    "Our streamlined platform makes it easy to create and manage interactive learning experiences": "Notre plateforme rationalisée facilite la création et la gestion d'expériences d'apprentissage interactives",
    "Trusted by Leading Educators": "Approuvé par les Éducateurs de Premier Plan",
    "Join thousands of educational institutions already transforming their teaching experience": "Rejoignez des milliers d'institutions éducatives qui transforment déjà leur expérience d'enseignement",
    "Start Your Digital Learning Journey Today": "Commencez Votre Parcours d'Apprentissage Numérique Aujourd'hui",
    "Join over 1,000 leading institutions already transforming education with our platform. Start your free trial today and see the difference.": "Rejoignez plus de 1 000 institutions de premier plan qui transforment déjà l'éducation avec notre plateforme. Commencez votre essai gratuit aujourd'hui et voyez la différence.",
    "Create Your Workspace": "Créez Votre Espace de Travail",
    "Set up your organization's branded environment and invite team members to collaborate.": "Configurez l'environnement de marque de votre organisation et invitez les membres de l'équipe à collaborer.",
    "Design Engaging Content": "Concevez du Contenu Engageant",
    "Create interactive assignments or choose from our curated gallery of templates.": "Créez des devoirs interactifs ou choisissez parmi notre galerie organisée de modèles.",
    "Monitor & Optimize": "Surveillez et Optimisez",
    "Track progress, generate insights, and continuously improve learning outcomes.": "Suivez les progrès, générez des insights et améliorez continuellement les résultats d'apprentissage.",

    // Navigation section
    "Assignment Gallery": "Galerie de Devoirs",
    "Assignments": "Devoirs",
    "Certificates": "Certificats",
    "Admin": "Admin",
    "Management": "Gestion",
    "Users": "Utilisateurs",
    "Organizations": "Organisations",
    "Help Center": "Centre d'Aide",
    "Privacy Policy": "Politique de Confidentialité",
    "Terms of Service": "Conditions de Service",
    "Join Requests": "Demandes d'Adhésion",
    "Organization Settings": "Paramètres de l'Organisation",
    "Payment History": "Historique des Paiements",
    "User Settings": "Paramètres Utilisateur",

    // Auth section
    "Sign Out": "Se Déconnecter",
    "Confirm Password": "Confirmer le Mot de Passe",
    "Forgot Password?": "Mot de passe oublié ?",
    "Reset Password": "Réinitialiser le Mot de Passe",
    "Remember me": "Se souvenir de moi",
    "Create Account": "Créer un Compte",
    "Already have an account?": "Vous avez déjà un compte ?",
    "Don't have an account?": "Vous n'avez pas de compte ?",
    "Enter your email": "Entrez votre e-mail",
    "Enter your password": "Entrez votre mot de passe",
    "Create a password": "Créez un mot de passe",
    "Password should be at least 8 characters long": "Le mot de passe doit contenir au moins 8 caractères",
    "Invalid credentials": "Identifiants invalides",
    "Account created successfully": "Compte créé avec succès",
    "Signed in successfully": "Connexion réussie",
    "Signed out successfully": "Déconnexion réussie",
    "Authentication error": "Erreur d'authentification",
    "Network error. Please check your internet connection and try again.": "Erreur réseau. Veuillez vérifier votre connexion internet et réessayer.",
    "You do not have permission to perform this action.": "Vous n'avez pas la permission d'effectuer cette action.",
    "An unexpected error occurred. Please try again later.": "Une erreur inattendue s'est produite. Veuillez réessayer plus tard.",
    "Sign in to access your educational content": "Connectez-vous pour accéder à votre contenu éducatif",
    "Sign up here": "Inscrivez-vous ici",
    "Create an account to start your learning journey": "Créez un compte pour commencer votre parcours d'apprentissage",
    "Back to Home": "Retour à l'Accueil",
    "Sign in here": "Connectez-vous ici",
    "Please provide a reason to join the organization": "Veuillez fournir une raison pour rejoindre l'organisation",
    "Change organization": "Changer d'organisation",
    "Welcome back to": "Bon retour à",
    "Welcome back! Sign in to your account": "Bon retour ! Connectez-vous à votre compte",
    "Create a new account to get started": "Créez un nouveau compte pour commencer",
    "You've skipped organization selection. You'll be able to select or create an organization after signing in.": "Vous avez ignoré la sélection d'organisation. Vous pourrez sélectionner ou créer une organisation après vous être connecté.",
    "Full Name": "Nom Complet",
    "Enter your full name": "Entrez votre nom complet",
    "Email Address": "Adresse E-mail",
    "Password should be at least 8 characters long": "Le mot de passe doit contenir au moins 8 caractères",
    "Processing...": "Traitement...",
    "Signing In...": "Connexion...",
    "Creating Account...": "Création du Compte...",
    "Sign in to your account": "Connectez-vous à votre compte"
  },
  de: {
    // German translations
    "loading": "Laden...",
    "error": "Fehler",
    "success": "Erfolg",
    "cancel": "Abbrechen",
    "save": "Speichern",
    "delete": "Löschen",
    "edit": "Bearbeiten",
    "create": "Erstellen",
    "update": "Aktualisieren",
    "submit": "Senden",
    "close": "Schließen",
    "back": "Zurück",
    "next": "Weiter",
    "previous": "Vorherige",
    "finish": "Beenden",
    "continue": "Fortfahren",
    "confirm": "Bestätigen",
    "yes": "Ja",
    "no": "Nein",
    "ok": "OK",
    "search": "Suchen",
    "filter": "Filtern",
    "sort": "Sortieren",
    "view": "Ansehen",
    "download": "Herunterladen",
    "upload": "Hochladen",
    "share": "Teilen",
    "copy": "Kopieren",
    "paste": "Einfügen",
    "cut": "Ausschneiden",
    "undo": "Rückgängig",
    "redo": "Wiederholen",
    "refresh": "Aktualisieren",
    "reload": "Neu laden",
    "retry": "Wiederholen",
    "home": "Startseite",
    "dashboard": "Dashboard",
    "settings": "Einstellungen",
    "profile": "Profil",
    "help": "Hilfe",
    "about": "Über",
    "contact": "Kontakt",
    "privacy": "Datenschutz",
    "terms": "Bedingungen",
    "logout": "Abmelden",
    "login": "Anmelden",
    "signup": "Registrieren",
    "signin": "Anmelden",
    "register": "Registrieren",
    "username": "Benutzername",
    "email": "E-Mail",
    "password": "Passwort",
    "name": "Name",
    "title": "Titel",
    "description": "Beschreibung",
    "date": "Datum",
    "time": "Zeit",
    "status": "Status",
    "type": "Typ",
    "category": "Kategorie",
    "tag": "Tag",
    "tags": "Tags",
    "score": "Punktzahl",
    "points": "Punkte",
    "level": "Level",
    "progress": "Fortschritt",
    "completed": "Abgeschlossen",
    "pending": "Ausstehend",
    "active": "Aktiv",
    "inactive": "Inaktiv",
    "enabled": "Aktiviert",
    "disabled": "Deaktiviert",
    "public": "Öffentlich",
    "private": "Privat",
    "draft": "Entwurf",
    "published": "Veröffentlicht",
    "archived": "Archiviert",
    "required": "Erforderlich",
    "optional": "Optional",
    "all": "Alle",
    "none": "Keine",
    "other": "Andere",
    "unknown": "Unbekannt",
    "total": "Gesamt",
    "count": "Anzahl",
    "number": "Nummer",
    "amount": "Betrag",
    "price": "Preis",
    "free": "Kostenlos",
    "premium": "Premium",
    "basic": "Basis",
    "advanced": "Erweitert",
    "expert": "Experte",
    "beginner": "Anfänger",
    "intermediate": "Fortgeschritten",
    "language": "Sprache",
    "languages": "Sprachen",
    "user": "Benutzer",
    "organization": "Organisation",
    "welcomeBack": "Willkommen zurück",
    "assignments": "Aufgaben",
    "gallery": "Aufgaben-Galerie",
    "certificates": "Zertifikate",
    "signIn": "Anmelden",
    "signUp": "Registrieren",
    "signOut": "Abmelden",
    "createAccount": "Konto Erstellen",
    "alreadyHaveAccount": "Haben Sie bereits ein Konto?",
    "dontHaveAccount": "Haben Sie kein Konto?",
    "enterEmail": "E-Mail eingeben",
    "enterPassword": "Passwort eingeben",
    "createPassword": "Passwort erstellen",
    "forgotPassword": "Passwort vergessen?",
    "fullName": "Vollständiger Name",
    "enterFullName": "Vollständigen Namen eingeben",
    "emailAddress": "E-Mail-Adresse",
    "processing": "Verarbeitung...",
    "signingIn": "Anmeldung...",
    "creatingAccount": "Konto wird erstellt...",
    "signInToAccount": "Bei Ihrem Konto anmelden"
  }
};

// Function to translate a nested object
function translateObject(obj, langTranslations, fallbackLang = 'en') {
  const result = {};

  for (const [key, value] of Object.entries(obj)) {
    if (typeof value === 'object' && value !== null) {
      result[key] = translateObject(value, langTranslations, fallbackLang);
    } else {
      // Try to find translation, fallback to original if not found
      result[key] = langTranslations[value] || langTranslations[key] || value;
    }
  }

  return result;
}

// Generate translation files for each language
Object.entries(translations).forEach(([langCode, langTranslations]) => {
  const translatedData = translateObject(englishData, langTranslations);
  const outputPath = path.join(__dirname, `src/i18n/locales/${langCode}.json`);

  fs.writeFileSync(outputPath, JSON.stringify(translatedData, null, 2), 'utf8');
  console.log(`Generated ${langCode}.json`);
});

console.log('All translation files generated successfully!');
